{"ast":null,"code":"import _toConsumableArray from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/src/components/app/App.js\";\nimport React, { Component } from 'react';\nimport { Header } from '../header/Header';\nimport { SearchForm } from '../searchform/SearchForm';\nimport { Spinner } from '../spinner/Spinner';\nimport { PokemonList } from '../pokemonlist/PokemonList';\nimport { Details } from '../details/Details';\nimport { Footer } from '../footer/Footer';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this._handleOnChange = function (e) {\n      var inputValue = e.target.value;\n\n      _this.setState({\n        inputSearch: inputValue.toLowerCase()\n      });\n    };\n\n    _this.state = {\n      pokemonList: [],\n      pokemonEvolution: [],\n      inputSearch: '',\n      loading: true\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._fetchPokemonsToApi();\n    }\n  }, {\n    key: \"_fetchPokemonsToApi\",\n    value: function _fetchPokemonsToApi() {\n      var _this2 = this;\n\n      var NUMBER_POKEMONS = 50;\n\n      for (var i = 1; i <= NUMBER_POKEMONS; i++) {\n        Promise.all([fetch(\"https://pokeapi.co/api/v2/pokemon/\".concat(i, \"/\")).then(function (response) {\n          return response.json();\n        }), fetch(\"https://pokeapi.co/api/v2/pokemon-species/\".concat(i, \"/\")).then(function (response) {\n          return response.json();\n        })]).then(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              pokemons = _ref2[0],\n              pokemonSpecie = _ref2[1];\n\n          console.log(pokemons);\n          var delayMiliseconds = 4000;\n          setTimeout(function () {\n            _this2.setState({\n              pokemonList: _toConsumableArray(_this2.state.pokemonList).concat([pokemons]),\n              pokemonEvolution: _toConsumableArray(_this2.state.pokemonList).concat([pokemonSpecie]),\n              loading: false\n            });\n          }, delayMiliseconds);\n        }).catch(function (error) {\n          console.error('There was an error while fetching pokemons', error);\n        });\n      }\n    }\n  }, {\n    key: \"_getFilteredPokemons\",\n    value: function _getFilteredPokemons() {\n      var _this$state = this.state,\n          pokemonList = _this$state.pokemonList,\n          inputSearch = _this$state.inputSearch;\n      var filteredPokemons = pokemonList.filter(function (item) {\n        return item.name.toLowerCase().includes(inputSearch);\n      }).sort(function (a, b) {\n        return a.id - b.id;\n      });\n\n      if (filteredPokemons.length === 0) {\n        return React.createElement(\"p\", {\n          className: \"not__results\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \"Sorry! \", React.createElement(\"span\", {\n          className: \"emoticon\",\n          role: \"img\",\n          \"aria-label\": \"sad\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, \" \\uD83D\\uDE1F  \"), \" Results not found!\");\n      }\n\n      return React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          return React.createElement(PokemonList, {\n            pokemons: filteredPokemons,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/details/:id\",\n        render: function render(props) {\n          return React.createElement(Details, {\n            pokemons: filteredPokemons.filter(function (poke) {\n              return poke.id == props.match.params.id;\n            }),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      console.log(this.state.pokemonEvolution);\n      return React.createElement(\"div\", {\n        className: \"app__container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"Pok\\xE9dex\"), React.createElement(\"main\", {\n        className: \"main__container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(SearchForm, {\n        changeInput: this._handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }), loading ? React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }) : this._getFilteredPokemons()), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/gloriafercu/Documents/Desarrollo web/proyectos personales/pokedex-bridge/src/components/app/App.js"],"names":["React","Component","Header","SearchForm","Spinner","PokemonList","Details","Footer","Switch","Route","App","props","_handleOnChange","e","inputValue","target","value","setState","inputSearch","toLowerCase","state","pokemonList","pokemonEvolution","loading","_fetchPokemonsToApi","NUMBER_POKEMONS","i","Promise","all","fetch","then","response","json","pokemons","pokemonSpecie","console","log","delayMiliseconds","setTimeout","catch","error","filteredPokemons","filter","item","name","includes","sort","a","b","id","length","poke","match","params","_getFilteredPokemons"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Header } from '../header/Header';\nimport { SearchForm } from '../searchform/SearchForm';\nimport { Spinner } from '../spinner/Spinner';\nimport { PokemonList } from '../pokemonlist/PokemonList';\nimport { Details } from '../details/Details';\nimport { Footer } from '../footer/Footer';\nimport { Switch, Route } from 'react-router-dom';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pokemonList: [],\n      pokemonEvolution: [],\n      inputSearch: '',\n      loading: true\n    }\n  }\n\n  _handleOnChange = (e) => {\n    const inputValue = e.target.value;\n    this.setState({\n      inputSearch: inputValue.toLowerCase()\n    });\n  }\n\n  componentDidMount() {\n    this._fetchPokemonsToApi();\n  }\n\n  _fetchPokemonsToApi() {\n    const NUMBER_POKEMONS = 50;\n    for (let i = 1; i <= NUMBER_POKEMONS; i++) {\n      Promise.all([\n        fetch(`https://pokeapi.co/api/v2/pokemon/${i}/`)\n          .then(response => response.json()),\n        fetch(`https://pokeapi.co/api/v2/pokemon-species/${i}/`)\n          .then(response => response.json())\n      ])\n        .then(([pokemons, pokemonSpecie]) => {\n          console.log(pokemons)\n          const delayMiliseconds = 4000;\n          setTimeout(() => {\n            this.setState({\n              pokemonList: [...this.state.pokemonList, pokemons],\n              pokemonEvolution: [...this.state.pokemonList, pokemonSpecie],\n              loading: false\n            })\n          }, delayMiliseconds);\n        })\n        .catch((error) => {\n          console.error('There was an error while fetching pokemons', error);\n        });\n    }\n  }\n\n  _getFilteredPokemons() {\n    const { pokemonList, inputSearch } = this.state;\n    const filteredPokemons = pokemonList.filter(item => item.name.toLowerCase().includes(inputSearch)).sort((a, b) => a.id - b.id);\n    if (filteredPokemons.length === 0) {\n      return (\n        <p className=\"not__results\">Sorry! <span className=\"emoticon\" role=\"img\" aria-label=\"sad\"> 😟  </span> Results not found!</p>\n      );\n    }\n\n    return (\n      <Switch>\n        <Route exact path=\"/\" render={() =>\n          <PokemonList pokemons={filteredPokemons} />\n        } />\n        <Route path=\"/details/:id\" render={(props) =>\n          <Details pokemons={filteredPokemons.filter(poke => poke.id == props.match.params.id)} />\n        } />\n      </Switch>\n    );\n  }\n\n  render() {\n    const { loading } = this.state;\n    console.log(this.state.pokemonEvolution)\n    return (\n      <div className=\"app__container\">\n        <Header>Pokédex</Header>\n        <main className=\"main__container\">\n          <SearchForm\n            changeInput={this._handleOnChange}\n          />\n\n          {loading ? <Spinner /> : this._getFilteredPokemons()}\n\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}